<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Jost:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <style>
        :root {
            --primary-color: #176980;
            --secondary-color: #D15B28;
            --bg-gradient: #176980; /* Background for the body and hero section */
        }

        body {
            font-family: 'Jost', sans-serif;
            overflow-x: hidden;
            margin: 0;
            padding: 0;
            background: var(--bg-gradient); /* Ensure body background is set */
        }

        #canvas-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1; /* Ensure it's behind all content */
            filter: blur(2px);
            opacity: 0.8;
        }

        .navbar {
            background: rgba(255, 255, 255, 0.95); /* Semi-transparent white */
            backdrop-filter: blur(10px); /* Frosted glass effect */
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding-top: 0.8rem;
            padding-bottom: 0.8rem;
        }

        .navbar-brand {
            color: var(--primary-color);
            font-weight: 600;
            font-size: 1.5rem; /* Responsive font size */
        }

        .nav-link {
            color: var(--primary-color);
            font-weight: 500;
            transition: color 0.3s ease;
            padding-left: 0.8rem !important;
            padding-right: 0.8rem !important;
            position: relative;
        }

        .nav-link > span {
            position: relative;
            display: inline-block;
        }

        .nav-link:not(.auth-btn) > span::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -5px;
            left: 0;
            background-color: var(--secondary-color);
            transition: width 0.3s ease;
        }

        .nav-link:not(.auth-btn):hover > span::after {
            width: 100%;
        }

        .nav-link:hover,
        .nav-link.active {
            color: var(--secondary-color) !important;
        }

        .dropdown-item:hover {
            color: var(--secondary-color);
        }

        .dropdown-menu {
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            border: 1px solid rgba(0,0,0,0.05);
            padding-top: 0.5rem;
            padding-bottom: 0.5rem;
        }
        .dropdown-item {
            font-weight: 500;
            padding: 0.5rem 1.2rem;
            transition: background-color 0.2s ease, color 0.2s ease;
        }
        .dropdown-item:hover {
            background-color: rgba(209, 91, 40, 0.05); /* Light orange tint on hover */
        }

        .nav-item.dropdown > .nav-link.dropdown-toggle::after {
            content: '\f078'; /* Font Awesome caret down */
            font-family: 'Font Awesome 6 Free';
            font-weight: 900;
            display: inline-block;
            margin-left: 0.35em;
            vertical-align: 0.05em;
            border: none; /* Remove default Bootstrap arrow */
            transition: transform 0.3s ease;
        }
        .nav-item.dropdown.show > .nav-link.dropdown-toggle::after {
            transform: rotate(180deg); /* Rotate arrow when dropdown is open */
        }

        .hero-section {
            min-height: 100vh; /* Full viewport height */
            padding-top: 100px; /* Increased padding to avoid overlap with navbar and provide space */
            padding-bottom: 40px; /* Padding at the bottom */
            display: flex;
            align-items: center; /* Vertically center content */
            color: white; /* Text color for hero section */
            position: relative; /* For z-index stacking if needed */
            overflow: hidden; /* Prevent content from spilling */
            background: transparent; /* Hero section itself is transparent, body provides gradient */
        }

        .hero-content {
            position: relative; /* For z-index context if needed */
            z-index: 2; /* Ensure hero content is above background canvas */
            /* text-align: center; /* Uncomment to center hero content including greeting */
        }

        /* Styles for the user greeting area in its new position */
        #user-greeting-status-area {
            /* padding-top: 70px; /* Removed as it's no longer directly under fixed navbar */
            /* text-align: center; /* Default is left in hero-content, adjust if needed */
            min-height: 50px; /* Adjusted min-height */
            position: relative; /* Keep relative positioning */
            z-index: 2; /* Ensure it's above p5 canvas */
            margin-bottom: 1rem; /* Space below greeting, before title */
        }

        /* Container within greeting area - adjust if it causes layout issues */
        #user-greeting-status-area .container {
             padding-left: 0; /* Align with hero content if hero-content is not centered */
             padding-right: 0;
        }

        #greetingContainer, #typewriterCursor {
            font-size: 1.6rem; /* Adjusted font size for greeting */
            color: white;
            font-weight: 500;
            /* text-align: left; /* Ensure alignment matches hero-title if not centered */
        }
         #statusMessage {
            font-size: 0.9rem;
            color: #ffdddd; /* Light color for status messages */
            margin-top: 5px;
            /* text-align: left; /* Match alignment */
        }

        .hero-title {
            font-size: 3.2rem; /* Responsive font size */
            font-weight: 600;
            margin-bottom: 1.5rem;
        }

        .hero-text {
            font-size: 1.2rem; /* Responsive font size */
            opacity: 0.9;
            margin-bottom: 2rem;
        }

        .btn-primary {
            background-color: var(--secondary-color);
            border-color: var(--secondary-color);
            padding: 0.75rem 2rem;
            font-weight: 500;
            transition: all 0.3s ease;
            border-radius: 8px; /* Added rounded corners */
        }

        .btn-primary:hover {
            background-color: #b94f23; /* Darker shade on hover */
            border-color: #b94f23;
            transform: translateY(-2px); /* Slight lift effect */
            box-shadow: 0 5px 15px rgba(209, 91, 40, 0.3); /* Softer shadow */
        }

        /* Responsive adjustments */
        @media (max-width: 992px) { /* Medium devices (tablets, less than 992px) */
            .hero-title {
                font-size: 2.8rem;
            }
            #greetingContainer, #typewriterCursor {
                font-size: 1.4rem;
            }
        }

        @media (max-width: 768px) { /* Small devices (landscape phones, less than 768px) */
            .hero-section {
                padding-top: 80px; /* Adjust padding for smaller screens */
                text-align: center; /* Center text for smaller screens */
            }
            .hero-content {
                 text-align: center; /* Center hero content, including greeting */
            }
            #user-greeting-status-area .container {
                 padding-left: 15px; /* Bootstrap default container padding */
                 padding-right: 15px;
            }
            .hero-title {
                font-size: 2.2rem;
            }
            .hero-text {
                font-size: 1.1rem;
            }
            #greetingContainer, #typewriterCursor {
                font-size: 1.3rem;
            }
            .value-card {
                min-height: 120px;
                margin-bottom: 1rem;
            }
            .value-card.expanded {
                left: 5%;
                width: 90%;
                flex-direction: column;
            }
            .value-card.expanded .value-letter-box {
                width: 100%;
                padding: 1.5rem;
                border-right: none;
                border-bottom: 1px solid #ccc;
            }
            .value-card.expanded .value-content-box {
                width: 100%;
                padding: 1.5rem;
            }
            .feature-card {
                margin-bottom: 1.5rem;
            }
            .navbar-nav {
                margin-top: 1rem; /* Space for collapsed navbar items */
            }
            .nav-link.auth-btn { /* Example for auth buttons if they were present */
                margin: 0.5rem 0;
                width: 100%;
            }
        }

        @media (max-width: 576px) { /* Extra small devices (portrait phones, less than 576px) */
             .hero-title {
                font-size: 1.8rem;
            }
            .hero-text {
                font-size: 1rem;
            }
            #greetingContainer, #typewriterCursor {
                font-size: 1.2rem;
            }
        }


        .features-section {
            padding: 5rem 0;
            background: #f8f9fa; /* Light grey background */
        }

        .feature-card {
            display: block; /* Make the whole card clickable */
            text-decoration: none;
            background: white;
            padding: 2rem;
            border-radius: 15px; /* More pronounced rounded corners */
            box-shadow: 0 10px 30px rgba(0,0,0,0.08); /* Softer shadow */
            transition: all 0.3s ease-in-out;
            color: inherit; /* Inherit text color */
            height: 100%; /* Ensure cards in a row have same height */
        }

        .feature-card:hover {
            transform: translateY(-10px);
            text-decoration: none;
            color: inherit;
            box-shadow: 0 15px 35px rgba(0,0,0,0.12); /* Enhanced shadow on hover */
        }

        .feature-icon {
            font-size: 2.5rem;
            color: var(--primary-color);
            margin-bottom: 1.5rem;
        }

        .feature-title {
            color: var(--primary-color);
            font-weight: 600;
            font-size: 1.25rem; /* Slightly larger feature title */
            margin-bottom: 1rem;
        }

        #culture-grid, #working-character-grid {
            transition: all 0.5s ease;
        }

        .value-card {
            background: rgba(255, 255, 255, 0.8); /* Lighter background for cards on white section */
            border-radius: 15px;
            padding: 1rem;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.3s ease-in-out, transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
            border: 1px solid rgba(0, 0, 0, 0.1); /* Softer border */
            height: 100%;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            will-change: transform, opacity;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05); /* Subtle shadow for cards */
        }

        .value-card:hover:not(.expanded) {
            transform: translateY(-5px) scale(1.02);
            background: rgba(255, 255, 255, 0.95); /* Slightly more opaque on hover */
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
        }

        .value-letter-box {
            font-size: 2.5rem;
            font-weight: 600;
            color: var(--secondary-color);
            margin-bottom: 0.5rem;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1); /* Softer text shadow */
            transition: all 0.5s ease;
        }

        .value-content-box {
            transition: all 0.5s ease;
        }

        .value-card h4 {
            color: #333; /* Darker text for better readability */
            font-size: 1rem;
            margin: 0;
            font-weight: 500;
            transition: all 0.5s ease;
        }

        .value-description {
            display: none;
            opacity: 0;
            transition: opacity 0.4s cubic-bezier(0.4, 0, 0.2, 1) 0.1s, transform 0.4s cubic-bezier(0.4, 0, 0.2, 1) 0.1s;
            text-align: left;
            margin-top: 0.5rem;
            font-size: 0.9rem;
            color: #555;
            transform: translateY(5px);
            will-change: opacity, transform;
        }

        .value-card.expanded {
            position: absolute;
            left: 2.5%; /* Centering expanded card */
            width: 95%;
            max-width: none;
            margin: 0;
            flex-direction: row;
            align-items: stretch;
            justify-content: flex-start;
            padding: 0;
            background: #fdfdfd; /* Slightly off-white for expanded card */
            border: 1px solid #ddd; /* Clearer border for expanded */
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
            height: auto; /* Auto height based on content */
            min-height: 120px; /* Minimum height */
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 10;
            transform-origin: center center;
        }

        .value-card.expanded .value-letter-box {
            font-size: 3.5rem;
            padding: 2.5rem;
            margin-bottom: 0;
            border-right: 1px solid #ddd;
            background: #e9ecef; /* Light grey for letter box */
            display: flex;
            align-items: center;
            justify-content: center;
            width: 150px;
            flex-shrink: 0;
        }

        .value-card.expanded .value-content-box {
            padding: 2.5rem;
            text-align: left;
            flex-grow: 1;
            width: calc(100% - 150px);
        }

        .value-card.expanded h4 {
            font-size: 1.5rem;
            margin-bottom: 0.75rem; /* More space below title */
            color: var(--primary-color);
        }

        .value-card.expanded .value-description {
            display: block;
            opacity: 1;
            transform: translateY(0); /* Reset transform */
        }

        #culture-grid.expanded-view .value-card:not(.expanded),
        #working-character-grid.expanded-view .value-card:not(.expanded) {
            opacity: 0;
            transform: scale(0.8);
            pointer-events: none;
            visibility: hidden;
        }

        #culture-grid.expanded-view,
        #working-character-grid.expanded-view {
            min-height: 200px; /* Ensure container has height when a card is expanded */
            position: relative; /* Needed for absolute positioning of expanded card */
        }

        .culture-section, .working-character-section {
            position: relative; /* For z-index context if needed */
            z-index: 1; /* Ensure these sections are above the p5 canvas if it overlaps */
            padding: 5rem 0; /* Standard padding */
            background-color: white; /* Explicit white background */
        }
        .culture-section h2, .working-character-section h2 {
            color: #333; /* Darker heading color */
        }


        .error-message {
            color: #f8d7da;
            background-color: #721c24;
            padding: 8px 12px; /* More padding */
            border-radius: 5px;
            display: inline-block;
            font-size: 0.9rem; /* Consistent font size */
        }

        /* Footer Styling */
        footer.bg-white {
            padding-top: 3rem;
            padding-bottom: 3rem;
            border-top: 1px solid #e9ecef; /* Subtle top border */
        }
        footer h5, footer h6 {
            color: var(--primary-color);
            font-weight: 600;
        }
        footer .text-muted {
            color: #6c757d !important; /* Bootstrap's muted color */
            font-size: 0.9rem;
        }
        footer .social-links a {
            color: var(--primary-color);
            transition: color 0.3s ease;
        }
        footer .social-links a:hover {
            color: var(--secondary-color);
        }
        footer .list-unstyled a.text-muted:hover {
            color: var(--secondary-color) !important;
            text-decoration: underline !important;
        }

        /* Coming Soon Modal Styling */
        .modal-header {
            background-color: var(--primary-color);
            color: white;
            border-bottom: none; /* Remove bottom border from header */
        }
        .modal-header .btn-close {
            filter: invert(1) grayscale(100%) brightness(200%); /* Make close button white */
        }
        .modal-title {
            font-weight: 500;
        }
        .modal-body {
            padding: 2rem;
            font-size: 1.1rem;
            color: #333;
            text-align: center; /* Center align text in modal body */
        }
        .modal-content {
            border-radius: 10px; /* Rounded corners for modal */
            border: none;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        .modal-footer {
            border-top: none; /* Remove top border from footer */
            justify-content: center; /* Center button in footer */
        }
        .modal-footer .btn-secondary {
            background-color: var(--secondary-color);
            border-color: var(--secondary-color);
            color: white;
            padding-left: 1.5rem;
            padding-right: 1.5rem;
        }
        .modal-footer .btn-secondary:hover {
            background-color: #b94f23; /* Darker shade for hover */
            border-color: #b94f23;
        }

    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg fixed-top">
        <div class="container">
            <img src="https://drive.google.com/uc?export=view&id=1vWROesjizhti9mlBCwDD04mNIX4lJb1c" alt="Logo" loading="lazy" style="width: 200px;">
            <img src="https://placehold.co/40x40/176980/FFFFFF?text=HCIH" alt="Bubble Logo" style="border-radius: 50%; margin-right: 10px;"
                 onerror="this.onerror=null; this.src='https://placehold.co/40x40/CCCCCC/000000?text=Logo';">
            <a class="navbar-brand mb-0" href="#">Human Capital Innovation Hub</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link active" href="#"><span>Home</span></a></li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownServices" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            <span>Services</span>
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="navbarDropdownServices">
                            <li><a class="dropdown-item" href="https://script.google.com/a/macros/hibank.co.id/s/AKfycbzfTw1Rb02K6DPyJiRfnBLc32RBzy3RCVePOWq2AEkjRaFGj2AL3Dc6tYRAC2X9E5j5nQ/exec" target="_top">Loan Simulation</a></li>
                            </ul>
                    </li>
                    <li class="nav-item"><a class="nav-link" href="https://sites.google.com/hibank.co.id/hcinnovationhub/hc-hiro" target="_blank"><span>HC hiro</span></a></li>
                    <li class="nav-item"><a class="nav-link" href="https://sites.google.com/hibank.co.id/hcinnovationhub/gallery" target="_blank"><span>Gallery</span></a></li>
                    <li class="nav-item"><a class="nav-link" href="https://script.google.com/a/macros/hibank.co.id/s/AKfycbxpGylM2w3bstdmM3HWaQCng0I17dZDSEsXeK_w7-yqPXaj4S7M0YpgDuCBf-CKn-79/exec" target="_top"><span>Feedback</span></a></li>
                    <li class="nav-item"><a class="nav-link" href="https://script.google.com/a/macros/hibank.co.id/s/AKfycbxJykSiXuFOa36BeDYqG4BVMH8sdiEtZNWf4y9_YYOrdAFTR5wXgGPSvq2YNZn2LeXn/exec" target="_top"><span>FAQ</span></a></li>
                </ul>
            </div>
        </div>
    </nav>
  

    <section class="hero-section">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-7 hero-content"> <div id="user-greeting-status-area">
                        <div class="container"> <span id="greetingContainer"></span><span id="typewriterCursor" style="display: none;">|</span>
                             <p id="statusMessage"></p>
                             <button id="retryButton" class="btn btn-sm btn-outline-light mt-1" style="display:none;">Retry Authorization</button>
                        </div>
                    </div>

                    <h1 class="hero-title">Human Capital Innovation Hub</h1>
                    <p class="hero-text">Your centralized platform for managing and developing human capital. We streamline employee management, facilitate career growth, and optimize workforce potential through innovative digital solutions.</p>
                    <a href="#services" class="btn btn-primary btn-lg">Discover Services</a>
                </div>
                </div>
        </div>
    </section>

    <section class="culture-section">
        <div class="container">
            <h2 class="text-center mb-5">Our Culture (AKHLAK)</h2>
            <div class="row g-4 justify-content-center" id="culture-grid">
                <div class="col-md-2 col-sm-4 col-6">
                    <div class="value-card" data-value="amanah">
                        <div class="value-letter-box">A</div>
                        <div class="value-content-box">
                            <h4>Amanah</h4>
                            <div class="value-description">
                                <p>Memegang teguh kepercayaan yang diberikan.</p>
                                <ul>
                                    <li>Memenuhi janji dan komitmen.</li>
                                    <li>Bertanggung jawab atas tugas, keputusan, dan tindakan yang dilakukan.</li>
                                    <li>Berpegang teguh kepada nilai moral dan etika.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-2 col-sm-4 col-6">
                    <div class="value-card" data-value="kompeten">
                        <div class="value-letter-box">K</div>
                        <div class="value-content-box">
                            <h4>Kompeten</h4>
                            <div class="value-description">
                                <p>Terus belajar dan mengembangkan kapabilitas.</p>
                                <ul>
                                    <li>Meningkatkan kompetensi diri untuk menjawab tantangan yang selalu berubah.</li>
                                    <li>Membantu orang lain belajar.</li>
                                    <li>Menyelesaikan tugas dengan kualitas terbaik.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-2 col-sm-4 col-6">
                    <div class="value-card" data-value="harmonis">
                        <div class="value-letter-box">H</div>
                        <div class="value-content-box">
                            <h4>Harmonis</h4>
                            <div class="value-description">
                                <p>Saling peduli dan menghargai perbedaan.</p>
                                <ul>
                                    <li>Menghargai setiap orang apapun latar belakangnya.</li>
                                    <li>Suka menolong orang lain.</li>
                                    <li>Membangun lingkungan kerja yang kondusif.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-2 col-sm-4 col-6">
                    <div class="value-card" data-value="loyal">
                        <div class="value-letter-box">L</div>
                        <div class="value-content-box">
                            <h4>Loyal</h4>
                            <div class="value-description">
                                <p>Berdedikasi dan mengutamakan kepentingan Bangsa dan Negara.</p>
                                <ul>
                                    <li>Menjaga nama baik sesama karyawan, pimpinan, BUMN, dan Negara.</li>
                                    <li>Rela berkorban untuk mencapai tujuan yang lebih besar.</li>
                                    <li>Patuh kepada pimpinan sepanjang tidak bertentangan dengan hukum dan etika.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-2 col-sm-4 col-6">
                    <div class="value-card" data-value="adaptif">
                        <div class="value-letter-box">A</div>
                        <div class="value-content-box">
                            <h4>Adaptif</h4>
                            <div class="value-description">
                                <p>Terus berinovasi dan antusias dalam menggerakkan ataupun menghadapi perubahan.</p>
                                <ul>
                                    <li>Cepat menyesuaikan diri menjadi lebih baik.</li>
                                    <li>Terus menerus melakukan perbaikan mengikuti perkembangan teknologi.</li>
                                    <li>Bertindak proaktif.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-2 col-sm-4 col-6">
                    <div class="value-card" data-value="kolaboratif">
                        <div class="value-letter-box">K</div>
                        <div class="value-content-box">
                            <h4>Kolaboratif</h4>
                            <div class="value-description">
                                <p>Membangun kerjasama yang sinergis.</p>
                                <ul>
                                    <li>Memberi kesempatan kepada berbagai pihak untuk berkontribusi.</li>
                                    <li>Terbuka dalam bekerja sama untuk menghasilkan nilai tambah.</li>
                                    <li>Menggerakkan pemanfaatan berbagai sumber daya untuk tujuan bersama.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="working-character-section">
        <div class="container">
            <h2 class="text-center mb-5">Our Working Character (FIRST)</h2>
            <div class="row g-4 justify-content-center" id="working-character-grid">
                 <div class="col-md-2 col-sm-4 col-6">
                    <div class="value-card" data-value="fast"> <div class="value-letter-box">F</div>
                        <div class="value-content-box">
                            <h4>Digital <strong>F</strong>irst</h4>
                            <div class="value-description">
                                <p>Mengedepankan proses dan produk berbasis digital dalam upaya untuk meningkatkan pengalaman pelanggan dengan Bank.</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-2 col-sm-4 col-6">
                    <div class="value-card" data-value="innovative">
                        <div class="value-letter-box">I</div>
                        <div class="value-content-box">
                            <h4><strong>I</strong>nnovative</h4>
                            <div class="value-description">
                                <p>Adaptif, kreatif, ulet dan berorientasi pada solusi dalam berinovasi.</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-2 col-sm-4 col-6">
                    <div class="value-card" data-value="reliable"> <div class="value-letter-box">R</div>
                        <div class="value-content-box">
                            <h4><strong>R</strong>elationship-Building & Customer Centric</h4>
                            <div class="value-description">
                                <p>Berorientasi pada membina hubungan yang baik dengan pelanggan dengan terus berupaya menyediakan produk, proses, dan layanan terbaik bagi pelanggan.</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-2 col-sm-4 col-6">
                    <div class="value-card" data-value="synergy"> <div class="value-letter-box">S</div>
                        <div class="value-content-box">
                            <h4><strong>S</strong>trategic Focus</h4>
                            <div class="value-description">
                                <p>Fokus pada pemikiran yang strategis dan selangkah lebih maju untuk memastikan keberhasilan inovasi yang diterapkan terhadap kepuasan pelanggan.</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-2 col-sm-4 col-6">
                    <div class="value-card" data-value="trustworthy"> <div class="value-letter-box">T</div>
                        <div class="value-content-box">
                            <h4><strong>T</strong>rust, Respect, & Accountable</h4>
                            <div class="value-description">
                                <p>Menunjukan sikap yang dapat dipertanggungjawabkan dalam bekerja, saling percaya dan saling menghormati antar individu.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="services" class="features-section">
        <div class="container">
            <h2 class="text-center text-dark mb-5">Our Services</h2>
            <div class="row g-4">
                <div class="col-md-4 d-flex align-items-stretch">
                    <a href="https://script.google.com/a/macros/hibank.co.id/s/AKfycbzfTw1Rb02K6DPyJiRfnBLc32RBzy3RCVePOWq2AEkjRaFGj2AL3Dc6tYRAC2X9E5j5nQ/exec" target="_top" class="feature-card text-center">
                        <i class="fas fa-calculator feature-icon"></i>
                        <h3 class="feature-title">Loan Simulation</h3>
                        <p>Calculate and plan your loan with our advanced simulation tools.</p>
                    </a>
                </div>
                <div class="col-md-4 d-flex align-items-stretch">
                    <a href="#" class="feature-card text-center" data-bs-toggle="modal" data-bs-target="#comingSoonModal" data-service-name="Internal Mobility Hub"> <i class="fas fa-exchange-alt feature-icon"></i>
                        <h3 class="feature-title">Internal Mobility Hub</h3>
                        <p>Quick and secure employee transfers across departments.</p>
                    </a>
                </div>
                <div class="col-md-4 d-flex align-items-stretch">
                    <a href="#" class="feature-card text-center" data-bs-toggle="modal" data-bs-target="#comingSoonModal" data-service-name="PDF Tools"> <i class="fas fa-file-pdf feature-icon"></i>
                        <h3 class="feature-title">PDF Tools</h3>
                        <p>Efficient tools for managing and processing PDF documents.</p>
                    </a>
                </div>
                <div class="col-md-4 d-flex align-items-stretch" id="dataHubFeatureContainer" style="display: none;">
                    <a href="#" class="feature-card text-center" data-bs-toggle="modal" data-bs-target="#comingSoonModal" data-service-name="Data Hub"> <i class="fas fa-database feature-icon"></i>
                        <h3 class="feature-title">Data Hub</h3>
                        <p>Self-service platform for employee data access and export (for authorized personnel).</p>
                    </a>
                </div>
                <div class="col-md-4 d-flex align-items-stretch">
                    <a href="#" class="feature-card text-center" data-bs-toggle="modal" data-bs-target="#comingSoonModal" data-service-name="Request Center"> <i class="fas fa-tasks feature-icon"></i>
                        <h3 class="feature-title">Request Center</h3>
                        <p>One system for managing all HC-related forms and requests.</p>
                    </a>
                </div>
                <div class="col-md-4 d-flex align-items-stretch" data-bs-toggle="modal" data-bs-target="#comingSoonModal" data-service-name="Internal Job Board">
                    <a href="#" class="feature-card text-center"> <i class="fas fa-briefcase feature-icon"></i>
                        <h3 class="feature-title">Internal Job Board</h3>
                        <p>Explore and apply for internal career opportunities across the organization.</p>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <footer class="bg-white py-5">
        <div class="container">
            <div class="row gy-4">
                <div class="col-lg-4 col-md-6">
                    <h5 class="mb-3">Human Capital Innovation Hub</h5>
                    <p class="text-muted mb-3">Pioneering digital solutions for human capital development and management.</p>
                    <div class="social-links">
                        <a href="https://www.linkedin.com/company/hibank-indonesia/" target="_blank" class="me-3"><i class="fab fa-linkedin fa-lg"></i></a>
                        <a href="https://www.instagram.com/hibank.id?igsh=Y2V4eWl1OHgycDBk" target="_blank" class="me-3"><i class="fab fa-instagram fa-lg"></i></a>
                        </div>
                </div>
                <div class="col-lg-2 col-md-6">
                    <h6 class="mb-3 fw-bold">Quick Links</h6>
                    <ul class="list-unstyled">
                        <li class="mb-2"><a href="https://sites.google.com/hibank.co.id/hcinnovationhub/hc-hiro" class="text-muted text-decoration-none" target="_blank">HC hiro</a></li>
                        <li class="mb-2"><a href="https://sites.google.com/hibank.co.id/hcinnovationhub/gallery" class="text-muted text-decoration-none" target="_blank">Gallery</a></li>
                        <li class="mb-2"><a href="https://script.google.com/a/macros/hibank.co.id/s/AKfycbxpGylM2w3bstdmM3HWaQCng0I17dZDSEsXeK_w7-yqPXaj4S7M0YpgDuCBf-CKn-79/exec" class="text-muted text-decoration-none" target="_top">Feedback</a></li>
                        <li class="mb-2"><a href="https://script.google.com/a/macros/hibank.co.id/s/AKfycbxJykSiXuFOa36BeDYqG4BVMH8sdiEtZNWf4y9_YYOrdAFTR5wXgGPSvq2YNZn2LeXn/exec" class="text-muted text-decoration-none" target="_top">FAQ</a></li>
                    </ul>
                </div>
                <div class="col-lg-2 col-md-6">
                    <h6 class="mb-3 fw-bold">Our Services</h6>
                    <ul class="list-unstyled">
                        <li class="mb-2"><a href="https://script.google.com/a/macros/hibank.co.id/s/AKfycbzfTw1Rb02K6DPyJiRfnBLc32RBzy3RCVePOWq2AEkjRaFGj2AL3Dc6tYRAC2X9E5j5nQ/exec" class="text-muted text-decoration-none" target="_top">Loan Simulation</a></li>
                        <!-- <li class="mb-2"><a href="#services" class="text-muted text-decoration-none">Internal Mobility</a></li>
                        <li class="mb-2"><a href="#services" class="text-muted text-decoration-none">PDF Tools</a></li>
                        <li class="mb-2"><a href="#services" class="text-muted text-decoration-none">Data Hub</a></li> -->
                    </ul>
                </div>
                <div class="col-lg-4 col-md-6">
                     <h6 class="mb-3 fw-bold">Contact Us</h6>
                     <p class="text-muted mb-1">PT Bank Hibank Indonesia</p>
                     <p class="text-muted mb-1">Rajawali Place, Lantai 22-23
                                                Jl. H.R. Rasuna Said Kav. B.4
                                                Setiabudi, Jakarta Selatan - 12910</p>
                     <p class="text-muted">Email: <a href="mailto:humancapital@hibank.co.id" class="text-muted text-decoration-none">humancapital@hibank.co.id</a></p>
                </div>
            </div>
            <hr class="my-4">
            <div class="row align-items-center">
                <div class="col-md-6 text-center text-md-start">
                    <p class="mb-0 text-muted">&copy; <span id="currentYear"></span> Human Capital Innovation Hub. All rights reserved.</p>
                </div>
                <div class="col-md-6 text-center text-md-end">
                    </div>
            </div>
        </div>
    </footer>

    <!-- Modal Coming Soon Services -->
    <div class="modal fade" id="comingSoonModal" tabindex="-1" aria-labelledby="comingSoonModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="comingSoonModalLabel"><i class="fas fa-rocket me-2"></i>Launching Soon!</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>Great things are brewing for the <strong id="modalServiceName">selected service</strong>!</p>
                    <p>Our team is adding the finishing touches to this exciting new feature. It'll be ready for you very soon!</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Got it!</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const targetElement = document.querySelector(this.getAttribute('href'));
                if (targetElement) {
                    targetElement.scrollIntoView({
                        behavior: 'smooth'
                    });
                }
            });
        });

        // Set current year in footer
        document.getElementById('currentYear').textContent = new Date().getFullYear();

        // p5.js sketch for background animation
        let stars = [];
        let starCount = 70; // Increased star count for denser field
        let maxDistance = 120; // Adjusted connection distance

        function setup() {
            let canvas = createCanvas(windowWidth, windowHeight);
            canvas.parent(document.body); // Attach canvas directly to body
            canvas.id('canvas-background'); // Assign ID for CSS styling
            for (let i = 0; i < starCount; i++) {
                stars.push(new Star(random(width), random(height)));
            }
            // Ensure p5 canvas is behind other content
            select('#canvas-background').style('z-index', '-1');
            select('#canvas-background').style('position', 'fixed'); // Make sure it covers the viewport
            select('#canvas-background').style('top', '0');
            select('#canvas-background').style('left', '0');

        }

        function draw() {
            clear(); // Use clear() instead of background() for transparency
            for (let i = 0; i < stars.length; i++) {
                stars[i].move();
                stars[i].show();
                stars[i].connect(stars);
            }
        }

        class Star {
            constructor(x, y) {
                this.x = x;
                this.y = y;
                this.vx = random(-0.5, 0.5); // Slower movement
                this.vy = random(-0.5, 0.5);
                this.radius = random(1, 3); // Varied star size
            }

            move() {
                this.x += this.vx;
                this.y += this.vy;

                // Wrap around edges
                if (this.x < -this.radius) this.x = width + this.radius;
                if (this.y < -this.radius) this.y = height + this.radius;
                if (this.x > width + this.radius) this.x = -this.radius;
                if (this.y > height + this.radius) this.y = -this.radius;
            }

            show() {
                noStroke();
                fill(255, 255, 255, 150); // White stars with some transparency
                ellipse(this.x, this.y, this.radius * 2, this.radius * 2);
            }

            connect(others) {
                for (let other of others) {
                    if (other === this) continue;
                    let d = dist(this.x, this.y, other.x, other.y);
                    if (d < maxDistance) {
                        let opacity = map(d, 0, maxDistance, 100, 0); // Lines are more transparent
                        stroke(255, 255, 255, opacity);
                        line(this.x, this.y, other.x, other.y);
                    }
                }
                 // Connect to cursor
                let dToCursor = dist(this.x, this.y, mouseX, mouseY);
                if (dToCursor < maxDistance + 50) { // Slightly larger range for cursor
                    let cursorOpacity = map(dToCursor, 0, maxDistance + 50, 80, 0);
                    stroke(255, 255, 255, cursorOpacity);
                    line(this.x, this.y, mouseX, mouseY);
                }
            }
        }

        function windowResized() {
            resizeCanvas(windowWidth, windowHeight);
        }


        // Card expansion logic for Culture and Working Character sections
        function initializeCardExpansion(gridId) {
            const grid = document.getElementById(gridId);
            if (!grid) return;

            const cards = grid.querySelectorAll('.value-card');
            let currentlyExpandedCard = null;
            let isAnimating = false;

            function toggleCard(card, expand) {
                if (isAnimating) return;
                isAnimating = true;

                // Force reflow / repaint before adding class for transition
                void card.offsetWidth;

                requestAnimationFrame(() => {
                    if (expand) {
                        card.classList.add('expanded');
                        grid.classList.add('expanded-view');
                    } else {
                        card.classList.remove('expanded');
                        grid.classList.remove('expanded-view');
                    }
                    // Event listener for transition end to set isAnimating to false
                    card.addEventListener('transitionend', function onTransitionEnd() {
                        isAnimating = false;
                        card.removeEventListener('transitionend', onTransitionEnd);
                    });
                });
            }

            cards.forEach(card => {
                card.addEventListener('click', function(event) {
                    event.stopPropagation(); // Prevent click from bubbling to document

                    if (currentlyExpandedCard === this) { // Clicked on already expanded card
                        toggleCard(this, false);
                        currentlyExpandedCard = null;
                    } else { // Clicked on a new card or no card was expanded
                        if (currentlyExpandedCard) { // Another card is already expanded
                            toggleCard(currentlyExpandedCard, false);
                        }
                        toggleCard(this, true);
                        currentlyExpandedCard = this;
                    }
                });
            });

            // Close expanded card if clicking outside
            document.addEventListener('click', function(event) {
                if (currentlyExpandedCard && !grid.contains(event.target)) {
                    toggleCard(currentlyExpandedCard, false);
                    currentlyExpandedCard = null;
                }
            }, { passive: true });
        }

        // User Greeting and Data Fetching Logic
        const greetingContainerElement = document.getElementById('greetingContainer');
        const typewriterCursorElement = document.getElementById('typewriterCursor');
        const statusMessageElement = document.getElementById('statusMessage');
        const retryButton = document.getElementById('retryButton');
        let greetingInterval;

        function stopGreetingCycle() {
            if (greetingInterval) {
                clearInterval(greetingInterval);
                greetingInterval = null;
            }
            if (typewriterCursorElement) typewriterCursorElement.style.display = 'none';
        }

        function startGreetingCycle(name) {
            if (!greetingContainerElement || !typewriterCursorElement) {
                console.warn("Greeting elements not found.");
                return;
            }
            stopGreetingCycle();

            const greetings = [`hi, ${name}!`]; // Simplified to one greeting
            let currentGreetingIndex = 0;
            let currentCharIndex = 0;
            const typingSpeed = 80; // Adjusted speed
            // const deletingSpeed = 50; // Not used if not deleting
            // const delayBetweenGreetings = 2000; // Not used if not cycling

            greetingContainerElement.textContent = '';
            typewriterCursorElement.style.display = 'inline';

            function type() {
                const currentText = greetings[currentGreetingIndex];
                greetingContainerElement.textContent = currentText.substring(0, currentCharIndex + 1);
                currentCharIndex++;

                if (currentCharIndex === currentText.length) {
                    typewriterCursorElement.style.display = 'none'; // Hide cursor after typing
                    // No deletion, no cycling. Greeting stays.
                    return;
                }
                greetingInterval = setTimeout(type, typingSpeed);
            }
            type();
        }

        function fetchUserData() {
            if (!statusMessageElement || !retryButton || !greetingContainerElement || !typewriterCursorElement) {
                console.error("One or more UI elements for user status are missing.");
                return;
            }

            statusMessageElement.textContent = "Fetching your information...";
            statusMessageElement.className = ""; // Reset classes
            statusMessageElement.style.color = "#ffdddd";
            statusMessageElement.style.display = 'block'; // Show status while fetching
            retryButton.style.display = 'none';
            greetingContainerElement.style.display = 'none'; // Hide greeting while fetching
            typewriterCursorElement.style.display = 'none';
            stopGreetingCycle();

            // --- MOCK google.script.run for local testing ---
            // Remove or comment this out when deploying to Google Apps Script
            if (typeof google === 'undefined' || typeof google.script === 'undefined') {
                console.warn("Google Apps Script environment not found. Using mock data.");
                window.google = {
                    script: {
                        run: {
                            withSuccessHandler: function(callback) {
                                this.successCallback = callback;
                                return this;
                            },
                            withFailureHandler: function(callback) {
                                this.failureCallback = callback;
                                return this;
                            },
                            getUserEmail: function() {
                                // Simulate a successful response
                                setTimeout(() => {
                                    this.successCallback({
                                        isAuthorized: true,
                                        name: "Guest User", // Mock name
                                        email: "guest@example.com",
                                        joblevel: "Staff" // or "Chief" to test Data Hub
                                    });
                                }, 1000);

                                // Simulate a failure response (uncomment to test)
                                // setTimeout(() => {
                                //    this.failureCallback({ message: "Mock server communication error." });
                                // }, 1000);

                                 // Simulate an unauthorized response (uncomment to test)
                                // setTimeout(() => {
                                //     this.successCallback({ isAuthorized: false, error: "Authorization denied by mock." });
                                // }, 1000);
                            }
                        }
                    }
                };
            }
            // --- END MOCK ---


            google.script.run
            .withSuccessHandler(function(response) {
                statusMessageElement.style.display = 'none'; // Hide status message by default
                statusMessageElement.textContent = "";

                if (response && response.isAuthorized && response.name) {
                    greetingContainerElement.style.display = 'inline'; // Show greeting container
                    startGreetingCycle(response.name);

                    const dataHubFeatureContainer = document.getElementById('dataHubFeatureContainer');
                    if (dataHubFeatureContainer) {
                        if (response.joblevel && response.joblevel.toLowerCase() === 'chief') {
                            dataHubFeatureContainer.style.display = 'flex'; // Use flex to align with other cards
                        } else {
                            dataHubFeatureContainer.style.display = 'none';
                        }
                    }
                } else { // Handle errors or unauthorized access
                    greetingContainerElement.style.display = 'none';
                    typewriterCursorElement.style.display = 'none';
                    let message = "Access denied or user information not available.";
                    if (response && response.error) {
                        message = response.error;
                    }
                    statusMessageElement.textContent = message;
                    statusMessageElement.className = "error-message"; // Apply error styling
                    statusMessageElement.style.display = 'block';
                    retryButton.style.display = 'inline-block'; // Show retry button
                }
            })
            .withFailureHandler(function(error) {
                stopGreetingCycle();
                greetingContainerElement.style.display = 'none';
                typewriterCursorElement.style.display = 'none';
                statusMessageElement.textContent = "Error: " + error.message + ". Please try again or authorize the script.";
                statusMessageElement.className = "error-message";
                statusMessageElement.style.display = 'block';
                retryButton.style.display = 'inline-block';
            })
            .getUserEmail();
        }


        // DOMContentLoaded to initialize scripts
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize card expansions
            initializeCardExpansion('culture-grid');
            initializeCardExpansion('working-character-grid');

            // Fetch user data
            fetchUserData();

            // Retry button event listener
            if (retryButton) {
                retryButton.addEventListener('click', fetchUserData);
            }

            // Navbar toggler for mobile
            const navbarToggler = document.querySelector('.navbar-toggler');
            const navbarCollapse = document.querySelector('.navbar-collapse');
            if (navbarToggler && navbarCollapse) {
                navbarToggler.addEventListener('click', function() {
                    navbarCollapse.classList.toggle('show');
                });

                // Close navbar when clicking outside on mobile
                document.addEventListener('click', function(event) {
                    const isClickInsideNav = navbarCollapse.contains(event.target);
                    const isToggler = navbarToggler.contains(event.target);
                    if (!isClickInsideNav && !isToggler && navbarCollapse.classList.contains('show')) {
                        navbarCollapse.classList.remove('show');
                    }
                });
            }

            // Coming Soon Modal: Update service name
            const comingSoonModal = document.getElementById('comingSoonModal');
            if (comingSoonModal) {
                comingSoonModal.addEventListener('show.bs.modal', function (event) {
                    // Button that triggered the modal
                    const button = event.relatedTarget;
                    // Extract info from data-service-name attributes
                    const serviceName = button.getAttribute('data-service-name');
                    const modalServiceNameElement = comingSoonModal.querySelector('#modalServiceName');
                    if (serviceName) {
                        modalServiceNameElement.textContent = serviceName;
                    } else {
                        modalServiceNameElement.textContent = "This feature"; // Default if no name provided
                    }
                });
            }
        });

    </script>
</body>
</html>
